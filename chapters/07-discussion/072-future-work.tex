\clearpage
\section{Future Work}
We have demonstrated that the package can do what it was set out to do on an overall level, however, there are still improvements to be made, some more trivial than others. To improve the reach of the package it is the plan to integrate the package into existing projects in the near future. Both of these topics are discussed in this section.

\subsection{Missing Data}
As discussed prior in this chapter substantial non-uniform gaps can be observed in the collected location data, even for the author. This is a common occurrence for 'in the wild' studies as discussed by Palmius et al.\cite{palmius2017}, since many variables can influence the background location tracking in smartphones, such as the availability of GPS signal, battery, as well as available memory on the phone. \\

Feature values can be influenced to a high degree by missing data, especially the Routine Index. The feature implementation ignores periods of missing data when comparing the routine matrix and today's hour matrix, however, gaps in the data will tend to bias the feature and make it overshoot. The solution for this missing data problem is either to use a dedicated GPS receiver or to use an imputation strategy for missing data. Imputation is most likely the best solution and can be carried out by filling out gaps using the saved stops and moves as historical data. This may not solve the issue completely but is a much better alternative in theory.

\subsection{Data Collection and Parameter Tuning}
The field study resulted in a dataset of 2.5M data points which means there would have been an opportunity for tuning the parameters if time allowed. Parameter tuning would increase the accuracy of the features produced by the algorithms and thereby increase its usefulness. However, subjective answers are missing from a lot of the days in the study meaning those days have been thrown away in the data analysis. Rather than relying on participant answers, a researcher could in theory manually label each participant's data sets with appropriate feature values. Certain features such as the number of places visited will be easier to manually detect, compared to other features such as entropy. If this was done, then finding optimal parameters for the algorithms would be a machine learning task as it was done by Palmius et al. \cite{palmius2017}. \\

The issue noted in the data analysis regarding a participant gathering over 3000 stops over 22 days is likely due to many of the Stops being close to each other, but far enough away to not get clustered together. This can result in a bottleneck in the DBSCAN algorithm if 3800 points are processed. It can likely be solved by filtering stops and down-sampling them such that stops are essentially merged.\\

Regarding the study, to improve the validity of the answers given by participants in a future study, a short introduction should be given to each participant before starting the study. The introduction should define what counts as a place, what counts as their home, and how a routine is defined. This was not done for the field study in this thesis which is likely a cause for a lowered quality of the subjective answers. If the participants are instructed beforehand, one can hope that answers become more consistent and the results of the data analysis will be more informative.\\


\subsection{Routine Index}
First of all, the Routine Index is different from the definitions by Saeb et al. \cite{Saeb2015}, Canzian et al. \cite{Canzian2015} and Palmius et al. \cite{palmius2017}. All of these contributions verified that their definition of the Routine Index correlated with depressive behavior, which has not been done for the implementation used in this thesis. Therefore it would be necessary to test this definition of the Routine Index in a clinical study, to verify its validity.\\

Also, an issue that was not considered for this thesis is the fact that the routine on weekdays differs a lot from the routine during the weekend. This is especially true for people who spent 8 or more hours at work during the weekdays and spent those 8 hours somewhere else during Saturday and Sunday. For such a person the \textit{Routine Index} cannot exceed $\frac{2}{3}$ due to a third of the hours in a day being spent at a different place than their usual place. This issue was addressed by Palmius et al. by making a subset of features for weekdays and weekends. In future work, it would be relevant to implement these feature subsets, in the hope of a more accurate Routine Index.\\

As mentioned in Chapter \ref{chapter:03} it would also be highly relevant to incorporate moves into the Routine Index, such that commutes will be taken into account when computing the feature. The most straight forward implementation would be to make an Hour Matrix for moves only, showing which moves were made at which time. The routine index could then be computed from both the \textit{stop hour matrix} and the \textit{move hour matrix}.\\

\subsection{Forced Daily Computation}
Currently, the implementation throws away Location Samples from previous days when computing the MobilityContext for today. This approach assumes that any data left from a previous date has been transformed into Stops and Moves, and therefore no longer is needed. However this approach does not consider the case where a large part of the stored Location Samples have not been used, due to no computation having taken place. In some cases, whole days of Location Samples may end up being thrown away without Stops and Moves being computed from this data.\\

The current way to avoid this is to compute features every day, making sure at least one computation takes place late in the evening such that minimal data is lost. Another way around it is to override the date for which it is known that computation did not take place. This latest date of computation can be kept track of by the programmer, but goes back to the problem of managing complexity. \\

Ideally, this should be done by the package and can be solved by first grouping location samples by date when loaded. Next, stops and moves are computed for each of the dates. Lastly, the stops and moves are saved to the disk and all the location samples from prior days can be thrown away.

\subsection{Asynchronous Computation}
The asynchronous computation is cumbersome to set up and takes over 30 lines of code to perform. Computing features asynchronously are not necessary for principle but will prevent the UI from freezing as discussed in Chapter \ref{chapter:06}. Asynchronous computation could be moved inside the package in the next iteration.\\

Another improvement to make is not relying on lazy evaluation, as discussed in Chapter \ref{chapter:05}, since some features will end up being computed in the main thread, possibly freezing the UI. The trade-off will be that it takes longer to compute the features in the asynchronous call, but there will no need to compute the features in the main thread.

\subsection{Example Application}
The Dart package manager, Pub, requires packages to have an example application to demonstrate its usage. The old version of the study app displayed in \ref{fig:app-features-screen} is a good candidate for an example app since it presents the calculated features to the user and can be implemented dynamically were features are constantly recomputed and updated.

\subsection{Integration and Maintenance}
Integration into the \textit{CARP Mobile Sensing Framework} is planned. CAMS was developed by Bardram \cite{CAMS} at the Copenhagen Center for Health Technology (CACHET). The package will continue to exist beyond this thesis and be maintained by the author, who will be employed at CACHET as a research assistant. An integration into CAMS was not made as part of this thesis due to time constraints and the scope of the thesis. \\

\subsection{The MUBS Recommender System}
The MUBS recommender system by Rohani et al. \cite{mubs-rohani} is a smart-phone application used for the treatment of bipolar patients through the recommendation of pleasant activities. The system does so by tracking patients' prior engaged activities, which the patients' rate through the app manually. By using the mobility features we aim to add mental state and behavior prediction to improve the recommendation algorithm, with these features being automatically generated. Furthermore, the features can also be used to activate users directly, for example by giving the user a task to visit a given number of different places during the day or keep their homestay percentage below a certain threshold.