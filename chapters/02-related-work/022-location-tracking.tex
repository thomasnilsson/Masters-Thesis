\section{Inferring User State from Location Data}

% Ashbrook, stops with k means,
% Cuttone
% Saeb
% Canzian
% Extraction of behavioural features

% By mobility features we mean both complex features such as stops, moves and places, as well as scalars/integers, i.e. number of places, distance travelled.

The work done by Saeb et al. \cite{Saeb2015} and Canzian et al. \cite{Canzian2015} forms the basis feature computation in this thesis. These contributions give definitions of a wide list of mobility features with some amount of overlap between the two papers. In addition, this paper also shows how certain features, in particular, correlate strongly with a \textit{PHQ-9} questionnaire score, which is relevant in a mental health context. Since the \textit{PHQ-9} questionnaire requires manual input from the user, and the user may forget to fill out the questionnaire, the strong correlation is great news. This could imply that it is possible to automate the patient data gathering process by simply tracking the location of the patient with a high frequency, and thus get around the issue of manually gathering biweekly subjective questionnaire data. The \textit{PHQ-9} questionnaire (see Appendix \ref{appendix:questionnaires}).

Saeb et al. find that depressive symptoms tend to change slowly over weeks, with little day-to-day variation and thus it makes more sensors to group data on a weekly basis. This may explain why two weeks of sensor feature correlated more strongly with the \textit{PHQ-9} than either daily sensor features or EMA measures. Unlike EMA ratings, which are momentary, the \textit{PHQ-9} assessment reports symptoms over a period of two weeks. The study conducted suggests that it is possible to monitor depression passively using phone sensor data, and in particular, GPS. Most people are unwilling to answer questions repeatedly over long periods of time, while passive monitoring could improve the management of depression in populations, allowing at-risk patients to be treated more quickly as symptoms emerge, or monitoring patientsâ€™ responses during treatment. Pre-processing of GPS data is split into two phases: Initially each data point is labeled as either being in a stationary or transitional state, for which the time-stamp of the current, the previous, and the next data point is used. By using this time difference as well as the distance between points the average velocity is calculated. After this, labeling is done by using a threshold of 1 km/h; a speed lower than the threshold indicates the state is stationary and higher is a transitional point. For analyzing the data further, only the stationary points are considered. Secondly, the stationary points are processed using k-means clustering to identify frequently visited places. Since the number of places, i.e. the number of clusters for the \textit{K-means} algorithm (the parameter \textit{K}) is not known beforehand, the best parameter value is found using cross-validation. Concretely the algorithm for finding \textit{K} is to increase \textit{K} until the largest cluster found has a radius of 500 meters or lower.

\begin{table}[h]
    \centering
\begin{tabular}{|p{0.4\textwidth}|p{0.5\textwidth}|}
\hline
{\ul \textbf{Feature}}      & {\ul \textbf{Description}}                                                                                                                     \\ \hline
Number of Clusters          & \textit{\begin{tabular}[c]{@{}l@{}}Number of clusters found by the clustering algorithm\end{tabular}}                                       \\ \hline
Home Stay                   & \textit{\begin{tabular}[c]{@{}l@{}}Percentage of time stayed at the home cluster\end{tabular}}                                              \\ \hline
Location Variance           & \textit{\begin{tabular}[c]{@{}l@{}}Variance of the location of stationary points\end{tabular}}                                              \\ \hline
Location Entropy            & \textit{\begin{tabular}[c]{@{}l@{}}Entropy of the time distribution wrt. clusters\end{tabular}}                                             \\ \hline
Normalized Location Entropy & \textit{\begin{tabular}[c]{@{}l@{}}Entropy normalized by the maximum possible entropy. Invariant to the number of clusters\end{tabular}} \\ \hline
Transition Time             & \textit{Percentage of time in not stationary}                                                                                                  \\ \hline
Total Distance              & \textit{Total distance travelled}                                                                                                              \\ \hline
Circadian Movement          & \textit{\begin{tabular}[c]{@{}l@{}}The degree to which changes in the location follow a 24 hour rhythm\end{tabular}}                        \\ \hline
\end{tabular}
    \caption{The Mobility Features defined by Saeb et al. \cite{Saeb2015}}
    \label{tab:saeb-features}
\end{table}



Canzian et al. \cite{Canzian2015} uses the notion of trajectories including stops and moves defined by \cite{trajectories2008}

% The key question of this paper, which is illustrated in Fig. 1, is whether the mobility behavior of an individual can give information about his/her current depressive state, which is quantified by a PHQ score. In order to answer this question, we first need to introduce the key definitions and notations that we use in this work. In the following we provide a formal definition of mobility traces and we define a set of mobility metrics, i.e., a set of statistical summaries characterizing the movement of individuals.

\begin{table}[h]
    \centering
\begin{tabular}{|p{0.4\textwidth}|p{0.5\textwidth}|}
\hline
{\ul \textbf{Feature}}       & {\ul \textbf{Description}}                                                                                                                                        \\ \hline
Place                        & \textit{A location the user frequently visits}                                                                                                                    \\ \hline
Significant Place            & \textit{Significant places are the top 10 most visited places out of all places}                                                                                  \\ \hline
Stop                         & \textit{A visit at a place}                                                                                                                                       \\ \hline
Move                         & \textit{A trajectory between two places}                                                                                                                          \\ \hline
Mobility Trace               & \textit{The stops and moves a given time interval}                                                                                                                \\ \hline
Total Distance               & \textit{Distance travelled for a given time interval}                                                                                                             \\ \hline
Max Distance                 & \textit{Maximum distance between any two points for a given time interval}                                                                                        \\ \hline
Radius of Gyration           & \textit{Radius of the area covered for a given time interval}                                                                                                     \\ \hline
Std. of Displacement         & \textit{Standard deviation for stop locations for a given time interval}                                                                                          \\ \hline
Max Distance from Home       & \textit{Maximum distance from home to any place visited in a given time interval}                                                                                 \\ \hline
Number of Places             & \textit{The number of unique places visisted for a given time interval}                                                                                           \\ \hline
Number of Significant Places & \textit{The number of unique significant places visited for a given time interval}                                                                                \\ \hline
Routine Index                & \textit{The average difference between the mobility behaviour of the user for a given interval, on a given day, compared to the same time interval on other days} \\ \hline
\end{tabular}
    \caption{The Mobility Features defined by Canzian et al. \cite{Canzian2015}}
    \label{tab:canzian-features}
\end{table}

Cuttone et al. 
\begin{table}[]
    \centering
\begin{tabular}{|p{0.4\textwidth}|p{0.5\textwidth}|}
\hline
{\ul \textbf{Feature}}       & {\ul \textbf{Description}}                                                                                                                                        \\ \hline
Place of Interest (POI)                        & \textit{Location of relevance frequented by the user, e.g. home, gym or workplace}                                                                                                                    \\ \hline
Stop            & \textit{A visit to a POI with an arrival- and departure timestamp}                                                                                  \\ \hline
\end{tabular}
    \caption{The Mobility Features defined by Cuttone et al. \cite{sparse-location-2014}}
    \label{tab:my_label}
\end{table}
